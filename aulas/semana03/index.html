<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Semana 03</title>
    <script src = "./Sprite.js"></script>
</head>
<body>
    <h1>Semana 03</h1>
    <canvas/>
    <script>
        var canvas = document.querySelector("canvas");
        canvas.width = 400;
        canvas.height = 300;
        var dt = 0;
        var anterior = 0;
        var ctx = canvas.getContext("2d");

        var pc = new Sprite({x:10,y:50, vx: 50});
        var pc2 = new Sprite({x:canvas.width-30, y:50, vx: -50});
        var pc3 = new Sprite({x:10,y:10, vy: 50});
        var pc4 = new Sprite({x:10,y:200, vy:-50});
        var pc5 = new Sprite({x:100,y:100, vx: 50, vy: 50});
        var pc6 = new Sprite({x:200,y:200, vx: -50, vy:-50});
        
        function passo(t) {
            dt = (t - anterior) / 1000;
            
            ctx.fillStyle = "tan";
            ctx.fillRect(0,0,canvas.width, canvas.height);
            
            pc.mover(dt);
            pc2.mover(dt);
            pc3.mover(dt);
            pc4.mover(dt);
            pc5.mover(dt);
            pc6.mover(dt);

            pc.desenhar(ctx);
            pc2.desenhar(ctx);
            pc3.desenhar(ctx);
            pc4.desenhar(ctx);
            pc5.desenhar(ctx);
            pc6.desenhar(ctx);

            if(pc.colidiuCom(pc2)) {
                pc2.x = pc2.x+50;
                pc.x = pc.x-50;
            }
            if(pc3.colidiuCom(pc4)) {
                pc3.y = pc3.y-50;
                pc4.y = pc4.y+50;
            }
            if(pc5.colidiuCom(pc6)) {
                pc5.x = 100;
                pc5.y = 100;
                pc6.x = 200;
                pc6.y = 200;
            }

            anterior = t;
            requestAnimationFrame(passo);
        }

        requestAnimationFrame(passo);

    </script>
    
</body>
</html>